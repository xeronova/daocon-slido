# PRD: Conference Q&A (Slido-like)

단일 컨퍼런스를 위한 실시간 질문/응답 웹 애플리케이션.

---

## 1. 개요

컨퍼런스 참석자가 발표/패널토크 세션에 대해 질문을 제출하고, 다른 참석자가 좋은 질문에 좋아요(Like)를 눌러 우선순위를 매길 수 있는 웹앱. 별도의 회원가입/로그인 없이 누구나 즉시 사용 가능하며, 관리자는 접속코드로 관리 기능에 접근한다.

## 2. 사용자 유형

| 유형 | 인증 방식 | 설명 |
|------|-----------|------|
| 참석자 (일반 사용자) | 없음 | 세션 링크/QR로 접속, 질문 제출 및 좋아요 |
| 관리자 | 접속코드 | 서버 시작 시 자동 생성되는 접속코드로 관리 페이지 접근 |

## 3. 핵심 기능

### 3.1 참석자 기능

#### 질문 세션 화면
- **단일 QR/링크로 접속**: 컨퍼런스 전체에 하나의 QR 코드와 링크(`/`)만 제공
- **세션 드롭다운**: 화면 상단에 세션 선택 드롭다운 제공
  - 기본값: **현재 세션** (관리자가 지정한 활성 세션)
  - 과거 세션, 미래 세션 모두 선택 가능
  - 현재 세션이 변경되면 자동으로 화면 갱신 (드롭다운이 기본값일 때만)
- 세션 제목 표시
- 하단에 질문 목록을 **좋아요(Like) 수 내림차순**으로 정렬하여 표시
- 각 질문 카드에는: 작성자 이름, 질문 내용, 좋아요 수, 좋아요 버튼
- 실시간으로 새 질문과 좋아요 수, 현재 세션 갱신 (5초 폴링)

#### 질문 제출
- 현재 보고 있는 세션(드롭다운에서 선택한 세션)에 질문 제출
- 미래 세션에도 미리 질문 올리기 가능
- 입력 필드:
  - **사용자 이름** (필수, 텍스트)
  - **질문 내용** (필수, 텍스트)
  - **4자리 비밀번호** (필수, 숫자 4자리) — 질문 수정/삭제용
- 제출 후 즉시 목록에 반영

#### 질문 수정
- 본인 질문을 수정하려면 4자리 비밀번호 입력
- 비밀번호 일치 시 질문 내용 수정 가능
- 사용자 이름은 수정 불가

#### 좋아요 (Like)
- 질문 카드의 좋아요 버튼 클릭으로 동작
- 같은 브라우저에서 동일 질문에 중복 좋아요 방지 (localStorage 기반)
- 좋아요 취소 가능 (토글 방식)

### 3.2 관리자 기능

#### 관리자 접속
- 서버 시작 시 랜덤 접속코드 자동 생성 (예: `a3x9k2`)
- 접속코드를 서버 콘솔에 출력
- 관리자 페이지(`/admin`)에서 접속코드 입력 후 진입
- 접속코드는 브라우저 세션 동안 유지

#### 세션 관리
- 질문 세션 생성: 제목 입력으로 새 세션 생성
- 세션 목록: 생성된 모든 세션을 시간순으로 리스트 표시
- 각 세션별:
  - **"현재 세션으로 설정"** 버튼 — 클릭 시 모든 참석자 화면이 해당 세션으로 자동 전환
  - 현재 활성 세션 표시 (뱃지 또는 하이라이트)
  - 세션 삭제
- **컨퍼런스 전체 QR 코드 및 링크**: 대시보드 상단에 고정 표시 (모든 세션 공통)

#### 질문 관리
- 세션 내 모든 질문 목록 확인
- 부적절한 질문 삭제 기능

## 4. 화면 구성

| 경로 | 화면 | 설명 |
|------|------|------|
| `/` | 질문 세션 화면 | 참석자 메인 화면 (현재 세션 기본 표시, 드롭다운으로 세션 전환) |
| `/admin` | 관리자 접속 | 접속코드 입력 화면 |
| `/admin/dashboard` | 관리자 대시보드 | 세션 목록, 생성, 현재 세션 지정, QR 관리 |
| `/admin/session/:id` | 세션 질문 관리 | 특정 세션의 질문 목록 및 삭제 |

## 5. 데이터 모델

### Session (질문 세션)
```
id: string (UUID)
title: string (세션 제목)
isActive: boolean (현재 세션 여부, 하나만 true)
createdAt: datetime
```

### Question (질문)
```
id: string (UUID)
sessionId: string (FK → Session)
authorName: string (작성자 이름)
content: string (질문 내용)
password: string (4자리 비밀번호, 해시 저장)
likeCount: number (좋아요 수)
createdAt: datetime
```

### Like (좋아요)
```
id: string (UUID)
questionId: string (FK → Question)
browserId: string (브라우저 식별자, localStorage 기반)
createdAt: datetime
```

## 6. 기술 스택

| 구분 | 기술 | 이유 |
|------|------|------|
| 프론트엔드 | React + TypeScript | 컴포넌트 기반 UI, 타입 안전성 |
| 빌드 도구 | Vite | 빠른 개발 서버, HMR |
| 스타일링 | Tailwind CSS | 빠른 UI 개발 |
| 백엔드 | Node.js + Express | 경량 API 서버 |
| 데이터베이스 | SQLite (better-sqlite3) | 로컬 파일 기반, 설치 불필요 |
| QR 생성 | qrcode 라이브러리 | 클라이언트 사이드 QR 생성 |
| 실시간 갱신 | 폴링 (5초 간격) | 단순 구현, WebSocket 대비 인프라 부담 적음 |

## 7. API 설계

### 참석자 API

```
GET    /api/sessions                  전체 세션 목록 (id, title, isActive만)
GET    /api/sessions/active           현재 활성 세션 조회
GET    /api/sessions/:id              세션 정보 조회
GET    /api/sessions/:id/questions    질문 목록 (좋아요순 정렬)
POST   /api/sessions/:id/questions    질문 제출
PUT    /api/questions/:id             질문 수정 (비밀번호 검증)
POST   /api/questions/:id/like        좋아요 토글 (browserId 포함)
```

### 관리자 API

```
POST   /api/admin/auth                  접속코드 검증
GET    /api/admin/sessions              전체 세션 목록
POST   /api/admin/sessions              세션 생성
POST   /api/admin/sessions/:id/activate 현재 세션으로 설정 (기존 활성 세션 해제)
DELETE /api/admin/sessions/:id          세션 삭제
DELETE /api/admin/questions/:id         질문 삭제
```

관리자 API는 접속코드를 헤더(`X-Admin-Code`)로 전달하여 인증.

## 8. 비기능 요구사항

- **동시 접속**: 컨퍼런스 규모 ~200명 동시 접속 처리
- **응답 속도**: API 응답 200ms 이내
- **데이터 보존**: SQLite 파일로 컨퍼런스 종료 후에도 데이터 유지
- **배포**: 단일 서버에서 프론트엔드 + 백엔드 함께 서빙 가능
- **모바일 대응**: 참석자 화면은 모바일 퍼스트 반응형 디자인

## 9. 범위 외 (Out of Scope)

- 회원가입/로그인 시스템
- 다중 컨퍼런스 지원
- 질문에 대한 답변 기능
- 실시간 투표/설문 기능
- 파일 첨부
- 다국어 지원

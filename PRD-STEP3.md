# STEP 3: ê´€ë¦¬ì UI + QR ì½”ë“œ + ìµœì¢… í†µí•©

## ëª©í‘œ
ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œë¥¼ êµ¬í˜„í•˜ê³ , QR ì½”ë“œ ìƒì„±, í”„ë¡œë•ì…˜ ë¹Œë“œ, ì„œë²„ í†µí•©ì„ ì™„ë£Œí•©ë‹ˆë‹¤.

---

## 1. ê´€ë¦¬ì í˜ì´ì§€ êµ¬í˜„

### ë¼ìš°íŒ… ì¶”ê°€ (App.tsx)
```tsx
import { BrowserRouter, Routes, Route } from 'react-router-dom';
import Session from './pages/Session';
import AdminLogin from './pages/AdminLogin';
import AdminDashboard from './pages/AdminDashboard';
import AdminSessionView from './pages/AdminSessionView';

function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/" element={<Session />} />
        <Route path="/admin" element={<AdminLogin />} />
        <Route path="/admin/dashboard" element={<AdminDashboard />} />
        <Route path="/admin/session/:id" element={<AdminSessionView />} />
      </Routes>
    </BrowserRouter>
  );
}
```

### ì¶”ê°€ íŒ¨í‚¤ì§€ ì„¤ì¹˜
```bash
npm install react-router-dom react-qr-code
```

---

## 2. ê´€ë¦¬ì í˜ì´ì§€ êµ¬ì¡°

```
client/src/pages/
â”œâ”€â”€ AdminLogin.tsx           # ì ‘ì†ì½”ë“œ ì…ë ¥ í™”ë©´
â”œâ”€â”€ AdminDashboard.tsx       # ì„¸ì…˜ ëª©ë¡ ë° ê´€ë¦¬
â””â”€â”€ AdminSessionView.tsx     # ì„¸ì…˜ë³„ ì§ˆë¬¸ ê´€ë¦¬
```

---

## 3. AdminLogin.tsx

### ê¸°ëŠ¥
- ì ‘ì†ì½”ë“œ ì…ë ¥ í¼ (6ìë¦¬)
- `POST /api/admin/auth`ë¡œ ê²€ì¦
- ì„±ê³µ ì‹œ localStorageì— ì ‘ì†ì½”ë“œ ì €ì¥ í›„ `/admin/dashboard`ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
- ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€

### UI
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                   â”‚
â”‚        ğŸ”‘ ê´€ë¦¬ì ë¡œê·¸ì¸           â”‚
â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ì ‘ì†ì½”ë“œ ì…ë ¥ (6ìë¦¬)       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                   â”‚
â”‚     [ë¡œê·¸ì¸] (gold-400 ë²„íŠ¼)      â”‚
â”‚                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì¸ì¦ ì²˜ë¦¬
```typescript
// api/admin.ts
export const adminAPI = {
  login: (code: string) => api.post('/admin/auth', { code }),
  getSessions: (code: string) => api.get('/admin/sessions', {
    headers: { 'X-Admin-Code': code }
  }),
  // ...
};

// ì ‘ì†ì½”ë“œ ì €ì¥
localStorage.setItem('adminCode', code);

// ì ‘ì†ì½”ë“œ ê°€ì ¸ì˜¤ê¸° (ë³´í˜¸ëœ í˜ì´ì§€ì—ì„œ)
const code = localStorage.getItem('adminCode');
if (!code) {
  navigate('/admin');
}
```

---

## 4. AdminDashboard.tsx

### ê¸°ëŠ¥

1. **ì»¨í¼ëŸ°ìŠ¤ QR/ë§í¬ í‘œì‹œ (ìƒë‹¨ ê³ ì •)**
   - ì°¸ì„ììš© URL: `http://localhost:5173/` (ë˜ëŠ” ë°°í¬ URL)
   - QR ì½”ë“œ ìƒì„± (react-qr-code ì‚¬ìš©)
   - ë§í¬ ë³µì‚¬ ë²„íŠ¼

2. **ì„¸ì…˜ ìƒì„± í¼**
   - ì œëª© ì…ë ¥
   - `POST /api/admin/sessions`

3. **ì„¸ì…˜ ëª©ë¡**
   - `GET /api/admin/sessions`ë¡œ ê°€ì ¸ì˜¤ê¸°
   - ê° ì„¸ì…˜ë§ˆë‹¤:
     - ì œëª©, ìƒì„±ì¼, ì§ˆë¬¸ ìˆ˜
     - **"í˜„ì¬ ì„¸ì…˜ìœ¼ë¡œ ì„¤ì •"** ë²„íŠ¼ (isActiveê°€ falseì¸ ê²½ìš°)
     - **"í˜„ì¬ ì„¸ì…˜"** ë±ƒì§€ (isActiveê°€ trueì¸ ê²½ìš°)
     - **"ì§ˆë¬¸ ê´€ë¦¬"** ë²„íŠ¼ â†’ `/admin/session/:id`ë¡œ ì´ë™
     - **"ì‚­ì œ"** ë²„íŠ¼

### UI ë ˆì´ì•„ì›ƒ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“± ì°¸ì„ììš© QR ì½”ë“œ ë° ë§í¬            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  â”‚  QR   â”‚  http://localhost:5173/      â”‚
â”‚  â”‚ CODE  â”‚  [ë³µì‚¬]                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ìƒˆ ì„¸ì…˜ ìƒì„±]                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ì„¸ì…˜ ì œëª© ì…ë ¥                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  [ìƒì„±] (gold-400 ë²„íŠ¼)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì„¸ì…˜ ëª©ë¡                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PART 1: AI ì‹œëŒ€...  [í˜„ì¬ ì„¸ì…˜] â”‚   â”‚
â”‚  â”‚ ì§ˆë¬¸: 15ê°œ                      â”‚   â”‚
â”‚  â”‚ [ì§ˆë¬¸ ê´€ë¦¬] [ì‚­ì œ]              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PART 2: ëŠìŠ¨í•œ ì—°ê²°...          â”‚   â”‚
â”‚  â”‚ ì§ˆë¬¸: 8ê°œ                       â”‚   â”‚
â”‚  â”‚ [í˜„ì¬ ì„¸ì…˜ìœ¼ë¡œ ì„¤ì •] [ì§ˆë¬¸ ê´€ë¦¬] â”‚   â”‚
â”‚  â”‚ [ì‚­ì œ]                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### QR ì½”ë“œ ìƒì„± ì»´í¬ë„ŒíŠ¸
```tsx
import { QRCodeSVG } from 'react-qr-code';

function QRCodeDisplay({ url }: { url: string }) {
  const copyToClipboard = () => {
    navigator.clipboard.writeText(url);
    alert('ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
  };

  return (
    <div className="bg-white p-6 rounded-xl inline-block">
      <QRCodeSVG value={url} size={200} />
      <button onClick={copyToClipboard} className="mt-4 ...">
        ë§í¬ ë³µì‚¬
      </button>
    </div>
  );
}
```

---

## 5. AdminSessionView.tsx

### ê¸°ëŠ¥
- íŠ¹ì • ì„¸ì…˜ì˜ ì§ˆë¬¸ ëª©ë¡ ì¡°íšŒ
- ì§ˆë¬¸ ì‚­ì œ (`DELETE /api/admin/questions/:id`)
- ë’¤ë¡œê°€ê¸° ë²„íŠ¼ â†’ `/admin/dashboard`

### UI
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† ë’¤ë¡œê°€ê¸°                             â”‚
â”‚  PART 1: AI ì‹œëŒ€, ì—°ê²°ê³¼ ì»¤ë®¤ë‹ˆí‹°ê°€...  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì§ˆë¬¸ ëª©ë¡ (15ê°œ)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ í™ê¸¸ë™            ğŸ‘ 15          â”‚   â”‚
â”‚  â”‚ AI ìœ¤ë¦¬ì— ëŒ€í•œ ì§ˆë¬¸...          â”‚   â”‚
â”‚  â”‚                      [ì‚­ì œ]     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ê¹€ì² ìˆ˜            ğŸ‘ 12          â”‚   â”‚
â”‚  â”‚ ì»¤ë®¤ë‹ˆí‹° ê±°ë²„ë„ŒìŠ¤...            â”‚   â”‚
â”‚  â”‚                      [ì‚­ì œ]     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. í”„ë¡œë•ì…˜ ë¹Œë“œ ì„¤ì •

### 6.1 Vite ë¹Œë“œ ì„¤ì • (client/vite.config.ts)
```typescript
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  server: {
    proxy: {
      '/api': 'http://localhost:3000', // ê°œë°œ ì‹œ í”„ë¡ì‹œ
    },
  },
  build: {
    outDir: '../server/dist/public', // ì„œë²„ì˜ public í´ë”ë¡œ ë¹Œë“œ
  },
});
```

### 6.2 Expressì—ì„œ ì •ì  íŒŒì¼ ì„œë¹™ (server/src/index.ts)
```typescript
import path from 'path';
import { fileURLToPath } from 'url';

const __dirname = path.dirname(fileURLToPath(import.meta.url));

// API ë¼ìš°íŠ¸ ë¨¼ì €
app.use('/api', sessionsRouter);
app.use('/api/admin', adminRouter);

// ì •ì  íŒŒì¼ ì„œë¹™ (í”„ë¡œë•ì…˜)
if (process.env.NODE_ENV === 'production') {
  app.use(express.static(path.join(__dirname, 'public')));
  app.get('*', (req, res) => {
    res.sendFile(path.join(__dirname, 'public', 'index.html'));
  });
}
```

### 6.3 ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ (ë£¨íŠ¸ package.json)
```json
{
  "scripts": {
    "dev:server": "cd server && npm run dev",
    "dev:client": "cd client && npm run dev",
    "build": "cd client && npm run build && cd ../server && npm run build",
    "start": "cd server && NODE_ENV=production npm start"
  }
}
```

---

## 7. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

### client/.env
```
VITE_API_URL=http://localhost:3000/api
```

### client/.env.production
```
VITE_API_URL=/api  # í”„ë¡œë•ì…˜ì—ì„œëŠ” ê°™ì€ ë„ë©”ì¸
```

### api/client.ts ìˆ˜ì •
```typescript
const api = axios.create({
  baseURL: import.meta.env.VITE_API_URL || '/api',
});
```

---

## 8. ìµœì¢… í†µí•© í…ŒìŠ¤íŠ¸

### ê°œë°œ ëª¨ë“œ í…ŒìŠ¤íŠ¸
```bash
# í„°ë¯¸ë„ 1: ë°±ì—”ë“œ
cd server && npm run dev

# í„°ë¯¸ë„ 2: í”„ë¡ íŠ¸ì—”ë“œ
cd client && npm run dev
```

1. http://localhost:5173 ì ‘ì† â†’ ì°¸ì„ì í™”ë©´ í™•ì¸
2. ì§ˆë¬¸ ì œì¶œ ë° ì¢‹ì•„ìš” ë™ì‘ í™•ì¸
3. http://localhost:5173/admin ì ‘ì† â†’ ê´€ë¦¬ì ë¡œê·¸ì¸
4. ì„¸ì…˜ ìƒì„±, í˜„ì¬ ì„¸ì…˜ ì„¤ì •
5. ì°¸ì„ì í™”ë©´ì—ì„œ ìë™ ì „í™˜ í™•ì¸
6. ì§ˆë¬¸ ì‚­ì œ ê¸°ëŠ¥ í™•ì¸

### í”„ë¡œë•ì…˜ ë¹Œë“œ í…ŒìŠ¤íŠ¸
```bash
npm run build
npm start
```
- http://localhost:3000 ì ‘ì†
- ëª¨ë“  ê¸°ëŠ¥ ë™ì‘ í™•ì¸

---

## 9. êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] react-router-dom ì„¤ì¹˜ ë° ë¼ìš°íŒ… ì„¤ì •
- [ ] `AdminLogin.tsx` êµ¬í˜„
- [ ] `AdminDashboard.tsx` êµ¬í˜„
- [ ] QR ì½”ë“œ ìƒì„± ì»´í¬ë„ŒíŠ¸
- [ ] `AdminSessionView.tsx` êµ¬í˜„
- [ ] ê´€ë¦¬ì API í•¨ìˆ˜ (`api/admin.ts`)
- [ ] Vite ë¹Œë“œ ì„¤ì • (outDir ë³€ê²½)
- [ ] Express ì •ì  íŒŒì¼ ì„œë¹™
- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [ ] í”„ë¡œë•ì…˜ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ (ê°œë°œ + í”„ë¡œë•ì…˜)

---

## 10. ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ì„œë²„ì— Node.js ì„¤ì¹˜ (v18 ì´ìƒ)
- [ ] SQLite ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ ë°±ì—… ì„¤ì •
- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (ë°°í¬ URL)
- [ ] ë°©í™”ë²½ í¬íŠ¸ ì˜¤í”ˆ (3000 ë˜ëŠ” 80/443)
- [ ] PM2 ë˜ëŠ” systemdë¡œ ì„œë²„ ìë™ ì¬ì‹œì‘ ì„¤ì •
- [ ] HTTPS ì¸ì¦ì„œ ì„¤ì • (ì„ íƒì‚¬í•­)

---

## 11. ì¶”ê°€ ê°œì„ ì‚¬í•­ (ì„ íƒ)

1. **ì§ˆë¬¸ ìˆ˜ì • ê¸°ëŠ¥**
   - ì°¸ì„ìê°€ ë³¸ì¸ ì§ˆë¬¸ ì˜†ì— "ìˆ˜ì •" ë²„íŠ¼ í‘œì‹œ
   - ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í›„ ì§ˆë¬¸ ë‚´ìš© ìˆ˜ì •

2. **ì§ˆë¬¸ ê²€ìƒ‰/í•„í„°**
   - ê´€ë¦¬ì í™”ë©´ì—ì„œ ì§ˆë¬¸ ë‚´ìš© ê²€ìƒ‰

3. **ì‹¤ì‹œê°„ ì•Œë¦¼**
   - WebSocketìœ¼ë¡œ í´ë§ ëŒ€ì²´ (ì„ íƒì‚¬í•­)

4. **ë‹¤í¬ëª¨ë“œ í† ê¸€**
   - ì»¨í¼ëŸ°ìŠ¤ í…Œë§ˆëŠ” ì´ë¯¸ ë‹¤í¬ëª¨ë“œì´ì§€ë§Œ, ê´€ë¦¬ì í™”ë©´ì— ë¼ì´íŠ¸ ëª¨ë“œ ì˜µì…˜

5. **í†µê³„ ëŒ€ì‹œë³´ë“œ**
   - ì„¸ì…˜ë³„ ì§ˆë¬¸ ìˆ˜, í‰ê·  ì¢‹ì•„ìš” ìˆ˜ ë“± ì‹œê°í™”

---

**STEP 3 ì™„ë£Œ í›„**: ì»¨í¼ëŸ°ìŠ¤ Q&A ì›¹ì•±ì´ ì™„ì„±ë˜ì–´ ë°°í¬ ì¤€ë¹„ê°€ ì™„ë£Œë©ë‹ˆë‹¤. ğŸ‰
